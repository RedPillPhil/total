"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6135],{79074:function(n,t,e){e.d(t,{ft:function(){return n4},jF:function(){return n8},qg:function(){return ti},hb:function(){return tu},zo:function(){return n7},gw:function(){return n5},A$:function(){return n6},P6:function(){return te},Xx:function(){return n2},hw:function(){return n1},H8:function(){return n3},U1:function(){return ts},Jj:function(){return tr},b6:function(){return tt},ZF:function(){return tn},QB:function(){return to},nT:function(){return ta}});var r,o,a,i,u,s,c,l,d,f,p,m,v,h,y,D,k,b,S,Z,w,U,g,q,F,T=e(70865),_=e(87394),B=e(28401),I=e(12383),A=e(20005),x=e(5632),P=e(2784),C=e(98788),$=e(92228),V=e(5163),R=e(6647);e(90902);var J=e(10017),L=e.n(J);e(93586),e(75652),e(34519);var W=e(26390);e(93725),e(93324),e(60242);var O=e(43386),N=e(64867),M=function(n){return{type:O.i.MINT,hash:n.id.split("-")[0],timestamp:n.timestamp,sender:n.to,token0Symbol:n.pair.token0.symbol,token1Symbol:n.pair.token1.symbol,token0Address:n.pair.token0.id,token1Address:n.pair.token1.id,amountUSD:parseFloat(n.amountUSD),amountToken0:parseFloat(n.amount0),amountToken1:parseFloat(n.amount1)}},j=function(n){return{type:O.i.BURN,hash:n.id.split("-")[0],timestamp:n.timestamp,sender:n.sender,token0Symbol:n.pair.token0.symbol,token1Symbol:n.pair.token1.symbol,token0Address:n.pair.token0.id,token1Address:n.pair.token1.id,amountUSD:parseFloat(n.amountUSD),amountToken0:parseFloat(n.amount0),amountToken1:parseFloat(n.amount1)}},Y=function(n){return{type:O.i.SWAP,hash:n.id.split("-")[0],timestamp:n.timestamp,sender:n.from,token0Symbol:n.pair.token0.symbol,token1Symbol:n.pair.token1.symbol,token0Address:n.pair.token0.id,token1Address:n.pair.token1.id,amountUSD:parseFloat(n.amountUSD),amountToken0:parseFloat(n.amount0In)-parseFloat(n.amount0Out),amountToken1:parseFloat(n.amount1In)-parseFloat(n.amount1Out)}},z=function(n){return{date:n.date,volumeUSD:parseFloat(n.dailyVolumeUSD),liquidityUSD:parseFloat(n.totalLiquidityUSD)}},E=function(n){return{date:n.date,volumeUSD:parseFloat(n.dailyVolumeUSD),liquidityUSD:parseFloat(n.reserveUSD)}},H=(r=(0,C.Z)(function(n,t){var e,r,o,a,i,u,s,c,l,d,f,p,m,v;return(0,V.__generator)(this,function(h){switch(h.label){case 0:e=[],r=!1,o=0,a=!1,h.label=1;case 1:if(a)return[3,3];return[4,t(n,o)];case 2:return u=(i=h.sent()).data,s=i.error,o+=1e3,a=(null==u?void 0:u.length)<1e3,r=s,u&&(e=e.concat(u)),[3,1];case 3:if(r||0===e.length)return[2,{error:!0}];for(console.warn(c=L()(e.map(function(n){return[parseInt((n.date/W.Bq).toFixed(0)),n]}))),f=null!==(d=null==(l=c[Object.keys(c).map(function(n){return parseInt(n,10)})[0]])?void 0:l.date)&&void 0!==d?d:N.YM[n],m=null!==(p=null==l?void 0:l.liquidityUSD)&&void 0!==p?p:0,v=(0,B.Z)(new Date);f<v-W.Bq;){var y=parseInt(((f+=W.Bq)/W.Bq).toFixed(0),10);Object.keys(c).includes(y.toString())?m=c[y].liquidityUSD:c[y]={date:f,volumeUSD:0,liquidityUSD:m}}return[2,{data:Object.values(c),error:!1}]}})}),function(n,t){return r.apply(this,arguments)}),Q=(o=(0,C.Z)(function(n,t,e){var r,o,a,i,u,s,c,l,d,f,p,m,v,h;return(0,V.__generator)(this,function(y){switch(y.label){case 0:r=[],o=!1,a=0,i=!1,y.label=1;case 1:if(i)return[3,3];return[4,t(n,a,e)];case 2:return s=(u=y.sent()).data,c=u.error,a+=1e3,i=(null==s?void 0:s.length)<1e3,o=c,s&&(r=r.concat(s)),[3,1];case 3:if(o||0===r.length)return[2,{error:!0}];for(console.warn(l=L()(r.map(function(n){return[parseInt((n.date/W.Bq).toFixed(0)),n]}))),p=null!==(f=null==(d=l[Object.keys(l).map(function(n){return parseInt(n,10)})[0]])?void 0:d.date)&&void 0!==f?f:N.YM[n],v=null!==(m=null==d?void 0:d.liquidityUSD)&&void 0!==m?m:0,h=(0,B.Z)(new Date);p<h-W.Bq;){var D=parseInt(((p+=W.Bq)/W.Bq).toFixed(0),10);Object.keys(l).includes(D.toString())?v=l[D].liquidityUSD:l[D]={date:p,volumeUSD:0,liquidityUSD:v}}return[2,{data:Object.values(l),error:!1}]}})}),function(n,t,e){return o.apply(this,arguments)});function X(){var n=(0,$.Z)(["\n      query pairDayDatas($startTime: Int!, $skip: Int!, $address: Bytes!) {\n        pairDayDatas(\n          first: 1000\n          skip: $skip\n          where: { pairAddress: $address, date_gt: $startTime }\n          orderBy: date\n          orderDirection: asc\n        ) {\n          date\n          dailyVolumeUSD\n          reserveUSD\n        }\n      }\n    "]);return X=function(){return n},n}var G=(a=(0,C.Z)(function(n,t,e){var r;return(0,V.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),r=(0,R.gql)(X()),[4,(0,N.rf)(n).request(r,{startTime:N.YM[n],skip:t,address:e})];case 1:return[2,{data:o.sent().pairDayDatas.map(E),error:!1}];case 2:return console.error("Failed to fetch pool chart data",o.sent()),[2,{error:!0}];case 3:return[2]}})}),function(n,t,e){return a.apply(this,arguments)}),K=(i=(0,C.Z)(function(n,t){return(0,V.__generator)(this,function(e){return[2,Q(n,G,t)]})}),function(n,t){return i.apply(this,arguments)}),nn=e(96670),nt=e(8244),ne=function(n,t,e){var r=n*W.om,o=t*W.om,a=n*W.BY,i=t*W.BY,u=e>0?t*W.BY*W.MV*100/e:0;return{totalFees24h:r,totalFees7d:o,lpFees24h:a,lpFees7d:i,lpApr7d:u!==1/0?u:0}},nr=e(2303),no=e(20337),na=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=ti(),o=JSON.stringify(n),a=JSON.parse(o);return{blocks:(0,nr.Z)(["info/blocks/".concat(o),r],function(){return(0,no.z)(a,t,e,r)}).data}},ni=e(27867),nu=e(14966);function ns(){var n=(0,$.Z)(["\n      query topPools($blacklist: [String!]) {\n        pairDayDatas(\n          first: 50\n          ","\n          orderBy: dailyVolumeUSD\n          orderDirection: desc\n        ) {\n          id\n        }\n      }\n    "]);return ns=function(){return n},n}var nc=(u=(0,C.Z)(function(n,t){var e,r;return(0,V.__generator)(this,function(o){switch(o.label){case 0:console.log("whereCondition1",e="where: {  date_gt: ".concat(t," }")),o.label=1;case 1:return o.trys.push([1,3,,4]),r=(0,R.gql)(ns(),e),[4,(0,N.rf)(n).request(r,{})];case 2:return[2,o.sent().pairDayDatas.map(function(n){return n.id.split("-")[0]})];case 3:return console.error("Failed to fetch top pools",o.sent()),[2,[]];case 4:return[2]}})}),function(n,t){return u.apply(this,arguments)}),nl=(s=(0,C.Z)(function(n){return(0,V.__generator)(this,function(t){switch(t.label){case 0:return[4,nc(n,(0,_.Z)((0,nu.z)(),1)[0])];case 1:return[2,t.sent()]}})}),function(n){return s.apply(this,arguments)});function nd(){var n=(0,$.Z)(["\n      query pools {\n        now: ","\n        oneDayAgo: ","\n        twoDaysAgo: ","\n        oneWeekAgo: ","\n      }\n    "]);return nd=function(){return n},n}var nf=function(n,t,e){var r='["'.concat(e.join('","'),'"]');return"pairs(\n    where: { id_in: ".concat(r," }\n    ").concat(t?"block: {number: ".concat(t,"}"):"","\n    orderBy: trackedReserve").concat(N.WR[n],"\n    orderDirection: desc\n  ) {\n    id\n    reserve0\n    reserve1\n    reserveUSD\n    volumeUSD\n    token0Price\n    token1Price\n    token0 {\n      id\n      symbol\n      name\n    }\n    token1 {\n      id\n      symbol\n      name\n    }\n  }")},np=(c=(0,C.Z)(function(n,t,e,r,o){var a,i,u=arguments;return(0,V.__generator)(this,function(r){switch(r.label){case 0:a=u.length>5&&void 0!==u[5]?u[5]:"ARBITRUM",r.label=1;case 1:return r.trys.push([1,3,,4]),i=(0,R.gql)(nd(),nf(a,null,o),nf(a,n,o),nf(a,t,o),nf(a,e,o)),[4,(0,N.rf)(a).request(i)];case 2:return[2,{data:r.sent(),error:!1}];case 3:return console.error("Failed to fetch pool data",r.sent()),[2,{error:!0}];case 4:return[2]}})}),function(n,t,e,r,o){return c.apply(this,arguments)}),nm=function(n){return n?n.reduce(function(n,t){var e=t.volumeUSD,r=t.reserveUSD,o=t.reserve0,a=t.reserve1,i=t.token0Price,u=t.token1Price;return n[t.id.toLowerCase()]=(0,nn.Z)((0,T.Z)({},t),{volumeUSD:parseFloat(e),reserveUSD:parseFloat(r),reserve0:parseFloat(o),reserve1:parseFloat(a),token0Price:parseFloat(i),token1Price:parseFloat(u)}),n},{}):{}},nv=(l=(0,C.Z)(function(n,t,e){var r,o,a,i,u,s,c,l,d,f,p;return(0,V.__generator)(this,function(m){switch(m.label){case 0:return o=(r=(0,_.Z)(null!=n?n:[],4))[0],a=r[1],i=r[2],u=r[3],[4,np(o.number,a.number,i.number,u.number,e,t)];case 1:return c=nm(null==(s=m.sent().data)?void 0:s.now),l=nm(null==s?void 0:s.oneDayAgo),d=nm(null==s?void 0:s.twoDaysAgo),f=nm(null==s?void 0:s.oneWeekAgo),p=nm(null==s?void 0:s.twoWeeksAgo),[2,e.reduce(function(n,t){var e=c[t],r=l[t],o=d[t],a=f[t],i=p[t],u=(0,_.Z)((0,nt.T)(null==e?void 0:e.volumeUSD,null==r?void 0:r.volumeUSD,null==o?void 0:o.volumeUSD),2),s=u[0],m=u[1],v=(0,_.Z)((0,nt.T)(null==e?void 0:e.volumeUSD,null==a?void 0:a.volumeUSD,null==i?void 0:i.volumeUSD),2),h=v[0],y=v[1],D=e?e.reserveUSD:0,k=(0,ni.Y)(null==e?void 0:e.reserveUSD,null==r?void 0:r.reserveUSD),b=e?e.reserve0:0,S=e?e.reserve1:0,Z=ne(s,h,D),w=Z.totalFees24h,U=Z.totalFees7d,g=Z.lpFees24h,q=Z.lpFees7d,F=Z.lpApr7d;return e&&(n[t]={data:{address:t,token0:{address:e.token0.id,name:e.token0.name,symbol:e.token0.symbol},token1:{address:e.token1.id,name:e.token1.name,symbol:e.token1.symbol},token0Price:e.token0Price,token1Price:e.token1Price,volumeUSD:s,volumeUSDChange:m,volumeUSDWeek:h,volumeUSDChangeWeek:y,totalFees24h:w,totalFees7d:U,lpFees24h:g,lpFees7d:q,lpApr7d:F,liquidityUSD:D,liquidityUSDChange:k,liquidityToken0:b,liquidityToken1:S}}),n},{})]}})}),function(n,t,e){return l.apply(this,arguments)}),nh=(d=(0,C.Z)(function(n,t){return(0,V.__generator)(this,function(e){switch(e.label){case 0:return[4,nl(t)];case 1:return[2,nv(n,t,e.sent())]}})}),function(n,t){return d.apply(this,arguments)}),ny=e(50930);function nD(){var n=(0,$.Z)(["\n  query poolTransactions($address: ID!) {\n    mints(first: 35, orderBy: timestamp, orderDirection: desc, where: { pair: $address }) {\n      id\n      timestamp\n      to\n      amount0\n      amount1\n      amountUSD\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n    }\n    swaps(first: 35, orderBy: timestamp, orderDirection: desc, where: { pair: $address }) {\n      id\n      timestamp\n      from\n      amount0In\n      amount1In\n      amount0Out\n      amount1Out\n      amountUSD\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n    }\n    burns(first: 35, orderBy: timestamp, orderDirection: desc, where: { pair: $address }) {\n      id\n      timestamp\n      sender\n      amount0\n      amount1\n      amountUSD\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n    }\n  }\n"]);return nD=function(){return n},n}var nk=(0,R.gql)(nD()),nb=(f=(0,C.Z)(function(n,t){var e,r,o,a,i;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,(0,N.rf)(n).request(nk,{address:t})];case 1:return r=(e=u.sent()).mints.map(M),o=e.burns.map(j),a=e.swaps.map(Y),[2,{data:(0,ny.Z)(r).concat((0,ny.Z)(o),(0,ny.Z)(a)),error:!1}];case 2:return i=u.sent(),console.error("Failed to fetch transactions for pool ".concat(t),i),[2,{error:!0}];case 3:return[2]}})}),function(n,t){return f.apply(this,arguments)});function nS(){var n=(0,$.Z)(["\n  query overviewCharts($startTime: Int!, $skip: Int!) {\n    pancakeDayDatas(first: 1000, skip: $skip, where: { date_gt: $startTime }, orderBy: date, orderDirection: asc) {\n      date\n      dailyVolumeUSD\n      totalLiquidityUSD\n    }\n  }\n"]);return nS=function(){return n},n}var nZ=(0,R.gql)(nS()),nw=(p=(0,C.Z)(function(n,t){return(0,V.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(0,N.rf)(n).request(nZ,{startTime:N.YM[n],skip:t})];case 1:return[2,{data:e.sent().pancakeDayDatas.map(z),error:!1}];case 2:return console.error("Failed to fetch overview chart data",e.sent()),[2,{error:!0}];case 3:return[2]}})}),function(n,t){return p.apply(this,arguments)}),nU=(m=(0,C.Z)(function(n){return(0,V.__generator)(this,function(t){switch(t.label){case 0:return[4,H(n,nw)];case 1:return[2,t.sent().data]}})}),function(n){return m.apply(this,arguments)});function ng(){var n=(0,$.Z)(["query overview {\n      ","(\n        ","\n        first: 1) {\n        totalTransactions\n        totalVolumeUSD\n        totalLiquidityUSD\n      }\n    }"]);return ng=function(){return n},n}var nq=(v=(0,C.Z)(function(n,t){var e,r;return(0,V.__generator)(this,function(o){switch(o.label){case 0:e=(0,N.J5)()?"factories":"pancakeFactories",o.label=1;case 1:return o.trys.push([1,3,,4]),r=(0,R.gql)(ng(),e,t?"block: { number: ".concat(t,"}"):""),[4,(0,N.rf)(n).request(r)];case 2:return[2,{data:o.sent(),error:!1}];case 3:return console.error("Failed to fetch info overview",o.sent()),[2,{data:null,error:!0}];case 4:return[2]}})}),function(n,t){return v.apply(this,arguments)}),nF=function(n){return n?{totalTransactions:parseFloat(n.totalTransactions),totalVolumeUSD:parseFloat(n.totalVolumeUSD),totalLiquidityUSD:parseFloat(n.totalLiquidityUSD)}:null},nT=(h=(0,C.Z)(function(n,t,e){var r,o,a,i,u,s,c,l,d,f,p,m,v,h,y,D,k,b,S;return(0,V.__generator)(this,function(Z){switch(Z.label){case 0:return[4,Promise.all([nq(n),nq(n,null!==(i=null==t?void 0:t.number)&&void 0!==i?i:void 0),nq(n,null!==(u=null==e?void 0:e.number)&&void 0!==u?u:void 0)])];case 1:return c=(s=_.Z.apply(void 0,[Z.sent(),3]))[0].data,l=s[1].data,d=s[2].data,c.factories&&c.factories.length>0&&(c.pancakeFactories=c.factories),l.factories&&l.factories.length>0&&(l.pancakeFactories=l.factories),d.factories&&d.factories.length>0&&(d.pancakeFactories=d.factories),f=nF(null==c?void 0:null===(r=c.pancakeFactories)||void 0===r?void 0:r[0]),p=nF(null==l?void 0:null===(o=l.pancakeFactories)||void 0===o?void 0:o[0]),m=nF(null==d?void 0:null===(a=d.pancakeFactories)||void 0===a?void 0:a[0]),h=(v=(0,_.Z)((0,nt.T)(f.totalVolumeUSD,p.totalVolumeUSD,m.totalVolumeUSD),2))[0],y=v[1],D=(0,ni.Y)(f.totalLiquidityUSD,p.totalLiquidityUSD),b=(k=(0,_.Z)((0,nt.T)(f.totalTransactions,p.totalTransactions,m.totalTransactions),2))[0],S=k[1],[2,{volumeUSD:h,volumeUSDChange:"number"==typeof y?y:0,liquidityUSD:f.totalLiquidityUSD,liquidityUSDChange:D,txCount:b,txCountChange:S}]}})}),function(n,t,e){return h.apply(this,arguments)});function n_(){var n=(0,$.Z)(["\n  query overviewTransactions {\n    mints: mints(first: 33, orderBy: timestamp, orderDirection: desc) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      to\n      amount0\n      amount1\n      amountUSD\n    }\n    swaps: swaps(first: 33, orderBy: timestamp, orderDirection: desc) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      from\n      amount0In\n      amount1In\n      amount0Out\n      amount1Out\n      amountUSD\n    }\n    burns: burns(first: 33, orderBy: timestamp, orderDirection: desc) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      sender\n      amount0\n      amount1\n      amountUSD\n    }\n  }\n"]);return n_=function(){return n},n}var nB=(0,R.gql)(n_()),nI=(y=(0,C.Z)(function(n){var t,e,r,o;return(0,V.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,N.rf)(n).request(nB)];case 1:if(!(t=a.sent()))return[2,void 0];return e=t.mints.map(M),r=t.burns.map(j),o=t.swaps.map(Y),[2,(0,ny.Z)(e).concat((0,ny.Z)(r),(0,ny.Z)(o)).sort(function(n,t){return parseInt(t.timestamp,10)-parseInt(n.timestamp,10)})];case 2:return a.sent(),[2,void 0];case 3:return[2]}})}),function(n){return y.apply(this,arguments)});function nA(){var n=(0,$.Z)(["\n      query tokenDayDatas($startTime: Int!, $skip: Int!, $address: Bytes!) {\n        tokenDayDatas(\n          first: 1000\n          skip: $skip\n          where: { token: $address, date_gt: $startTime }\n          orderBy: date\n          orderDirection: asc\n        ) {\n          date\n          dailyVolumeUSD\n          totalLiquidityUSD\n        }\n      }\n    "]);return nA=function(){return n},n}var nx=(D=(0,C.Z)(function(n,t,e){var r;return(0,V.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),r=(0,R.gql)(nA()),[4,(0,N.rf)(n).request(r,{startTime:N.YM[n],skip:t,address:e})];case 1:return[2,{data:o.sent().tokenDayDatas.map(z),error:!1}];case 2:return console.error("Failed to fetch token chart data",o.sent()),[2,{error:!0}];case 3:return[2]}})}),function(n,t,e){return D.apply(this,arguments)}),nP=(k=(0,C.Z)(function(n,t){return(0,V.__generator)(this,function(e){return[2,Q(n,nx,t)]})}),function(n,t){return k.apply(this,arguments)});function nC(){var n=(0,$.Z)(["\n  query poolsForToken($address: Bytes!){\n    asToken0: pairs(\n      first: 15\n      orderBy: trackedReserve","\n      orderDirection: desc\n      where: { totalTransactions_gt: 100, token0: $address }\n    ) {\n      id\n    }\n    asToken1: pairs(\n      first: 15\n      orderBy: trackedReserve","\n      orderDirection: desc\n      where: { totalTransactions_gt: 100, token1: $address }\n    ) {\n      id\n    }\n  }\n"]);return nC=function(){return n},n}var n$=(b=(0,C.Z)(function(n,t){var e,r;return(0,V.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,N.rf)(n).request((0,R.gql)(nC(),N.WR[n],N.WR[n]),{address:t,blacklist:W.tE})];case 1:return[2,{error:!1,addresses:(e=o.sent()).asToken0.concat(e.asToken1).map(function(n){return n.id}).map(function(n){return n.toLowerCase()})}];case 2:return r=o.sent(),console.error("Failed to fetch pools for token ".concat(t),r),[2,{error:!0}];case 3:return[2]}})}),function(n,t){return b.apply(this,arguments)}),nV=e(34498),nR=e.n(nV),nJ=e(70050);function nL(){var n=(0,$.Z)(["\n    query tokenPriceData {\n      ","\n    }\n  "]);return nL=function(){return n},n}var nW=function(n){return(0,R.gql)(nL(),n)},nO=(S=(0,C.Z)(function(n,t,e,r){var o,a,i,u,s,c,l,d,f,p,m,v,h,y;return(0,V.__generator)(this,function(D){switch(D.label){case 0:for(o=(0,B.Z)(new Date),a=[],i=r;i<=o;)a.push(i),i+=e;D.label=1;case 1:return D.trys.push([1,4,,5]),[4,(0,no.z)(a,"asc",500,n)];case 2:if((c=null!==(s=null==(u=D.sent())?void 0:u.length)&&void 0!==s?s:0)>0&&"ARBITRUM"===n&&!(0,N.J5)()&&(l=u[c-1],u[c-1]={timestamp:l.timestamp,number:l.number-32}),!u||0===c)return console.error("Error fetching blocks for timestamps",a),[2,{error:!1}];return[4,(0,nJ.L)(nW,u.map(function(e){return"\n      t".concat(e.timestamp,':token(id:"').concat(t,'", block: { number: ').concat(e.number," }) {\n        derived").concat(N.WR[n],"\n      }\n      b").concat(e.timestamp,': bundle(id:"1", block: { number: ').concat(e.number," }) {\n        ").concat(N.WR[n].toLowerCase(),"Price\n      }\n    ")}),N.Ho[n],200)];case 3:if(console.warn("fetchTokenPriceData",{chainName:n,prices:d=D.sent()}),!d)return console.error("Price data failed to load"),[2,{error:!1}];for(f=[],p=N.WR[n],Object.keys(d).forEach(function(n){var t,e=n.split("t")[1];e&&f.push({timestamp:e,derivedBNB:(null===(t=d[n])||void 0===t?void 0:t["derived".concat(p)])?parseFloat(d[n]["derived".concat(p)]):0,priceUSD:0})}),console.warn("pricesPart1",t,f),Object.keys(d).forEach(function(n){var t=n.split("b")[1];if(t){var e=f.findIndex(function(n){return n.timestamp===t});if(e>=0){var r,o,a=f[e].derivedBNB;f[e].priceUSD=parseFloat(null!==(o=null===(r=d[n])||void 0===r?void 0:r["".concat(p.toLowerCase(),"Price")])&&void 0!==o?o:0)*a}}}),m=nR()(f,function(n){return parseInt(n.timestamp,10)}),v=[],h=0;h<m.length-1;h++)v.push({time:parseFloat(m[h].timestamp),open:m[h].priceUSD,close:m[h+1].priceUSD,high:m[h+1].priceUSD,low:m[h].priceUSD});return[2,{data:v,error:!1}];case 4:return y=D.sent(),console.error("Failed to fetch price data for token ".concat(t),y),[2,{error:!0}];case 5:return[2]}})}),function(n,t,e,r){return S.apply(this,arguments)});function nN(){var n=(0,$.Z)(["\n      query topTokens($blacklist: [String!]) {\n        tokenDayDatas(\n          first: ","\n          ","\n          orderBy: dailyVolumeUSD\n          orderDirection: desc\n        ) {\n          id\n        }\n      }\n    "]);return nN=function(){return n},n}var nM=(Z=(0,C.Z)(function(n,t){var e,r,o,a;return(0,V.__generator)(this,function(i){switch(i.label){case 0:e="ETH"===n?"where: { date_gt: ".concat(t,", token_not_in: $blacklist, dailyVolumeUSD_gt:2000 }"):(0,N.J5)()?"":"where: {date_gt: ".concat(t,"}"),r=50,i.label=1;case 1:return i.trys.push([1,3,,4]),o=(0,R.gql)(nN(),r,e),[4,(0,N.rf)(n).request(o,{blacklist:N.z2[n]})];case 2:return[2,i.sent().tokenDayDatas.map(function(n){return n.id.split("-")[0]})];case 3:return a=i.sent(),console.warn("fetchTopTokens",{chainName:n,timestamp24hAgo:t}),console.error("Failed to fetch top tokens",a),[2,[]];case 4:return[2]}})}),function(n,t){return Z.apply(this,arguments)}),nj=(w=(0,C.Z)(function(n){return(0,V.__generator)(this,function(t){switch(t.label){case 0:return[4,nM(n,(0,_.Z)((0,nu.z)(),1)[0])];case 1:return[2,t.sent()]}})}),function(n){return w.apply(this,arguments)});function nY(){var n=(0,$.Z)(["\n      query tokens {\n        now: ","\n        oneDayAgo: ","\n        twoDaysAgo: ","\n        oneWeekAgo: ","\n      }\n    "]);return nY=function(){return n},n}var nz=function(n,t,e){var r='["'.concat(e.join('","'),'"]');return"tokens(\n      where: {id_in: ".concat(r,"}\n      ").concat(t?"block: {number: ".concat(t,"}"):"","\n      orderBy: tradeVolumeUSD\n      orderDirection: desc\n    ) {\n      id\n      symbol\n      name\n      derived").concat(N.WR[n],"\n      derivedUSD\n      tradeVolumeUSD\n      totalTransactions\n      totalLiquidity\n    }\n  ")},nE=(U=(0,C.Z)(function(n,t,e,r,o,a){var i;return(0,V.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),i=(0,R.gql)(nY(),nz(n,null,a),nz(n,t,a),nz(n,e,a),nz(n,r,a)),[4,(0,N.rf)(n).request(i)];case 1:return[2,{data:o.sent(),error:!1}];case 2:return console.error("Failed to fetch token data",o.sent()),[2,{error:!0}];case 3:return[2]}})}),function(n,t,e,r,o,a){return U.apply(this,arguments)}),nH=function(n){return n?n.reduce(function(n,t){var e=t.derivedBNB,r=t.derivedUSD,o=t.tradeVolumeUSD,a=t.totalTransactions,i=t.totalLiquidity,u=t.derivedETH;return n[t.id.toLowerCase()]=(0,nn.Z)((0,T.Z)({},t),{derivedBNB:e?0:parseFloat(e),derivedETH:u?0:parseFloat(u),derivedUSD:parseFloat(r),tradeVolumeUSD:parseFloat(o),totalTransactions:parseFloat(a),totalLiquidity:parseFloat(i)}),n},{}):{}},nQ=(g=(0,C.Z)(function(n,t,e){var r,o,a,i,u,s,c,l,d,f,p;return(0,V.__generator)(this,function(m){switch(m.label){case 0:return o=(r=(0,_.Z)(null!=t?t:[],4))[0],a=r[1],i=r[2],u=r[3],[4,nE(n,o.number,a.number,i.number,u.number,e)];case 1:return c=nH(null==(s=m.sent().data)?void 0:s.now),l=nH(null==s?void 0:s.oneDayAgo),d=nH(null==s?void 0:s.twoDaysAgo),f=nH(null==s?void 0:s.oneWeekAgo),p=nH(null==s?void 0:s.twoWeeksAgo),[2,e.reduce(function(n,t){var e=c[t],r=l[t],o=d[t],a=f[t],i=p[t],u=(0,_.Z)((0,nt.T)(null==e?void 0:e.tradeVolumeUSD,null==r?void 0:r.tradeVolumeUSD,null==o?void 0:o.tradeVolumeUSD),2),s=u[0],m=u[1],v=(0,_.Z)((0,nt.T)(null==e?void 0:e.tradeVolumeUSD,null==a?void 0:a.tradeVolumeUSD,null==i?void 0:i.tradeVolumeUSD),1)[0],h=e?e.totalLiquidity*e.derivedUSD:0,y=r?r.totalLiquidity*r.derivedUSD:0,D=(0,ni.Y)(h,y),k=e?e.totalLiquidity:0,b=e?e.derivedUSD:0,S=r?r.derivedUSD:0,Z=a?a.derivedUSD:0,w=(0,ni.Y)(b,S),U=(0,ni.Y)(b,Z),g=(0,ni.D)(null==e?void 0:e.totalTransactions,null==r?void 0:r.totalTransactions);return n[t]={data:{exists:!!e,address:t,name:e?e.name:"",symbol:e?e.symbol:"",volumeUSD:s,volumeUSDChange:m,volumeUSDWeek:v,txCount:g,liquidityUSD:h,liquidityUSDChange:D,liquidityToken:k,priceUSD:b,priceUSDChange:w,priceUSDChangeWeek:U}},n},{})]}})}),function(n,t,e){return g.apply(this,arguments)}),nX=(q=(0,C.Z)(function(n,t){return(0,V.__generator)(this,function(e){switch(e.label){case 0:return[4,nj(n)];case 1:return[4,nQ(n,t,e.sent())];case 2:return[2,e.sent()]}})}),function(n,t){return q.apply(this,arguments)});function nG(){var n=(0,$.Z)(["\n    query tokenTransactions {\n      mintsTx: mints(\n        first: 10\n        orderBy: timestamp\n        orderDirection: desc\n    \n      ) {\n        id\n        timestamp\n        pair {\n          token0 {\n            id\n            symbol\n          }\n          token1 {\n            id\n            symbol\n          }\n        }\n         to\n         amount0\n         amount1\n         amountUSD\n      }\n      swapsTx: swaps(\n        first: 10\n        orderBy: timestamp\n        orderDirection: desc\n    \n      ) {\n        id\n        timestamp\n        pair {\n          token0 {\n            id\n            symbol\n          }\n          token1 {\n            id\n            symbol\n          }\n        }\n        from\n        to\n        amount0In\n        amount1In\n        amount0Out\n        amount1Out\n        amountUSD\n      }\n      burnsTx: burns(\n        first: 10\n        orderBy: timestamp\n        orderDirection: desc\n      ) {\n        id\n        timestamp\n        pair {\n          token0 {\n            id\n            symbol\n          }\n          token1 {\n            id\n            symbol\n          }\n        }\n        sender\n        amount0\n        amount1\n        amountUSD\n      }\n    }\n  "]);return nG=function(){return n},n}var nK=(F=(0,C.Z)(function(n,t){var e,r,o,a,i,u,s,c,l,d,f,p,m,v;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,(0,N.rf)(n).request((0,R.gql)(nG()))];case 1:return r=(e=h.sent()).mintsTx.filter(function(n){return n.pair.token0.id===t}),o=e.mintsTx.filter(function(n){return n.pair.token1.id===t}),a=e.burnsTx.filter(function(n){return n.pair.token0.id===t}),i=e.burnsTx.filter(function(n){return n.pair.token1.id===t}),u=e.swapsTx.filter(function(n){return n.pair.token0.id===t}),s=e.swapsTx.filter(function(n){return n.pair.token1.id===t}),c=r.map(M),l=o.map(M),d=a.map(j),f=i.map(j),p=u.map(Y),m=s.map(Y),[2,{data:(0,ny.Z)(c).concat((0,ny.Z)(l),(0,ny.Z)(d),(0,ny.Z)(f),(0,ny.Z)(p),(0,ny.Z)(m)),error:!1}];case 2:return v=h.sent(),console.error("Failed to fetch transactions for token ".concat(t),v),[2,{error:!0}];case 3:return[2]}})}),function(n,t){return F.apply(this,arguments)}),n0={refreshInterval:15e3,errorRetryCount:3,errorRetryInterval:3e3},n1=function(){var n=ti(),t=(0,_.Z)((0,nu.z)(),2),e=na([t[0],t[1]]).blocks,r=(0,_.Z)(null!=e?e:[],2),o=r[0],a=r[1],i=(0,N.J5)()?"stableSwap":"swap",u=(0,nr.Z)(n&&o&&a?["info/protocol/updateProtocolData/".concat(i),n]:null,function(){return nT(n,o,a)}).data;return null!=u?u:void 0},n2=function(){var n=ti(),t=(0,N.J5)()?"stableSwap":"swap",e=(0,nr.Z)(["info/protocol/updateProtocolChartData/".concat(t),n],function(){return nU(n)}).data;return null!=e?e:void 0},n3=function(){var n=ti(),t=(0,N.J5)()?"stableSwap":"swap",e=(0,nr.Z)(["info/protocol/updateProtocolTransactionsData/".concat(t),n],function(){return nI(n)},n0).data;return null!=e?e:void 0},n4=function(){var n=ti(),t=(0,_.Z)((0,nu.z)(),4),e=na([t[0],t[1],t[2],t[3]]).blocks,r=(0,N.J5)()?"stableSwap":"swap",o=(0,nr.Z)(e&&n&&["info/pools/data/".concat(r),n],function(){return nh(e,n)}).data;return null!=o?o:{}},n5=function(n){var t=n.join(""),e=ti(),r=(0,_.Z)((0,nu.z)(),4),o=na([r[0],r[1],r[2],r[3]]).blocks,a=(0,N.J5)()?"stableSwap":"swap",i=(0,nr.Z)(o&&e&&["info/pool/data/".concat(t,"/").concat(a),e],function(){return nv(o,e,n)},n0).data;return n.map(function(n){var t;return null==i?void 0:null===(t=i[n])||void 0===t?void 0:t.data}).filter(function(n){return n})},n7=function(n){var t,e=ti(),r=(0,N.J5)()?"stableSwap":"swap",o=(0,nr.Z)(["info/pool/chartData/".concat(n,"/").concat(r),e],function(){return K(e,n)}).data;return null!==(t=null==o?void 0:o.data)&&void 0!==t?t:void 0},n6=function(n){var t,e=ti(),r=(0,N.J5)()?"stableSwap":"swap",o=(0,nr.Z)(["info/pool/transactionsData/".concat(n,"/").concat(r),e],function(){return nb(e,n)},n0).data;return null!==(t=null==o?void 0:o.data)&&void 0!==t?t:void 0},n8=function(){var n=ti(),t=(0,_.Z)((0,nu.z)(),4),e=na([t[0],t[1],t[2],t[3]]).blocks,r=(0,N.J5)()?"stableSwap":"swap",o=(0,nr.Z)(e&&n&&["info/token/data/".concat(r),n],function(){return nX(n,e)}).data;return null!=o?o:{}},n9=function(n,t,e){for(var r=Math.ceil(n.length/50),o=[],a=0;a<r;a++)o.push(n.slice(50*a,(a+1)*50));return Promise.all(o.map(function(n){return nQ(t,e,n)}))},tn=function(n){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],e=n.join(""),r=ti(),o=(0,_.Z)((0,nu.z)(),4),a=na([o[0],o[1],o[2],o[3]]).blocks,i=(0,N.J5)()?"stableSwap":"swap",u=(0,nr.Z)(a&&r&&["info/token/data/".concat(e,"/").concat(i),r],function(){return n9(n,r,a)},t?n0:{}).data,s=(0,P.useMemo)(function(){return u&&u.length>0?u.reduce(function(n,t){return(0,T.Z)({},n,t)},{}):{}},[u]),c=(0,P.useMemo)(function(){if(n||!s)return n.map(function(n){var t;return null==s?void 0:null===(t=s[n])||void 0===t?void 0:t.data}).filter(function(n){return n&&n.exists})},[n,s]);return null!=c?c:void 0},tt=function(n){var t;return null!==(t=tn([n]).find(function(t){return t.address===n}))&&void 0!==t?t:void 0},te=function(n){var t,e=ti(),r=(0,N.J5)()?"stableSwap":"swap",o=(0,nr.Z)(["info/token/poolAddress/".concat(n,"/").concat(r),e],function(){return n$(e,n)}).data;return null!==(t=null==o?void 0:o.addresses)&&void 0!==t?t:void 0},tr=function(n){var t,e=ti(),r=(0,N.J5)()?"stableSwap":"swap",o=(0,nr.Z)(n&&e&&["info/token/chartData/".concat(n,"/").concat(r),e],function(){return nP(e,n)},n0).data;return null!==(t=null==o?void 0:o.data)&&void 0!==t?t:void 0},to=function(n,t,e){var r,o=1e3*(0,B.Z)(new Date),a=(0,B.Z)((0,I.Z)((0,A.Z)(o,e))),i=ti(),u=(0,N.J5)()?"stableSwap":"swap",s=(0,nr.Z)(["info/token/priceData/".concat(n,"/").concat(u),i],function(){return nO(i,n,t,a)},n0).data;return null!==(r=null==s?void 0:s.data)&&void 0!==r?r:void 0},ta=function(n){var t,e=ti(),r=(0,N.J5)()?"stableSwap":"swap",o=(0,nr.Z)(["info/token/transactionsData/".concat(n,"/").concat(r),e],function(){return nK(e,n)},n0).data;return null!==(t=null==o?void 0:o.data)&&void 0!==t?t:void 0},ti=function(){var n=window.location.href,t=(0,P.useCallback)(function(){return n.includes("eth")||n.includes("chainId=1")?"ETH":"ARBITRUM"},[n]),e=(0,_.Z)((0,P.useState)(t()),2),r=e[0],o=e[1],a=(0,P.useMemo)(function(){return r},[r]);return(0,P.useEffect)(function(){o(t())},[t]),a},tu=function(){var n=(0,x.useRouter)().query.chainName;return n?"/".concat(n):""},ts=function(){return(0,N.J5)()?"?type=stableSwap":""}},43386:function(n,t,e){var r,o;e.d(t,{i:function(){return r}}),(o=r||(r={}))[o.SWAP=0]="SWAP",o[o.MINT=1]="MINT",o[o.BURN=2]="BURN"},8244:function(n,t,e){e.d(t,{T:function(){return o}});var r=e(27867),o=function(n,t,e){var o=(0,r.D)(n,t),a=(0,r.D)(t,e),i=(0,r.Y)(o,a);return[o,i]}},14966:function(n,t,e){e.d(t,{z:function(){return u}});var r=e(28401),o=e(18717),a=e(7069),i=e(85899),u=function(){var n=1e3*(0,r.Z)(new Date);return[(0,r.Z)((0,o.Z)((0,a.Z)(n,1))),(0,r.Z)((0,o.Z)((0,a.Z)(n,2))),(0,r.Z)((0,o.Z)((0,i.Z)(n,1))),(0,r.Z)((0,o.Z)((0,i.Z)(n,2)))]}},14279:function(n,t,e){e.d(t,{Eh:function(){return v},Ob:function(){return m},SS:function(){return h},_J:function(){return f},y6:function(){return p}});var r=e(92228),o=e(3411),a=e(24826),i=e(85644);function u(){var n=(0,r.Z)(["\n  cursor: pointer;\n"]);return u=function(){return n},n}function s(){var n=(0,r.Z)(["\n  width: 100%;\n  padding-top: 16px;\n  flex-direction: column;\n  gap: 16px;\n  // background-color: ",";\n  background: rgba(0, 246, 102, 0.1);\n  border-radius: ",";\n  //border: 1px solid ",";\n  box-shadow: 0px 0px 11px -1px #00f666;\n"]);return s=function(){return n},n}function c(){var n=(0,r.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 0.2em;\n  margin-bottom: 1.2em;\n"]);return c=function(){return n},n}function l(){var n=(0,r.Z)(["\n  color: ",";\n  padding: 0 20px;\n  :hover {\n    cursor: pointer;\n  }\n"]);return l=function(){return n},n}function d(){var n=(0,r.Z)(["\n  height: 1px;\n  background-color: ",";\n  width: 100%;\n"]);return d=function(){return n},n}var f=(0,o.ZP)(a.Z).withConfig({componentId:"sc-147f2ca9-0"})(u()),p=(0,o.ZP)(i.Z).withConfig({componentId:"sc-147f2ca9-1"})(s(),function(n){return n.theme.card.background},function(n){return n.theme.radii[0]},function(n){return n.theme.colors.cardBorder}),m=o.ZP.div.withConfig({componentId:"sc-147f2ca9-2"})(c()),v=o.ZP.div.withConfig({componentId:"sc-147f2ca9-3"})(l(),function(n){return n.theme.colors.primary}),h=o.ZP.div.withConfig({componentId:"sc-147f2ca9-4"})(d(),function(n){return n.theme.colors.cardBorder})},27867:function(n,t,e){e.d(t,{D:function(){return r},Y:function(){return o}});var r=function(n,t){return n&&t?n-t:n||0},o=function(n,t){return n&&t?(n-t)/t*100:0}}}]);
//# sourceMappingURL=6135-0e5c0914c1a07e29.js.map